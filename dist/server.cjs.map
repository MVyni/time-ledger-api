{"version":3,"sources":["../node_modules/dotenv/package.json","../node_modules/dotenv/lib/main.js","../node_modules/dotenv/lib/env-options.js","../node_modules/dotenv/lib/cli-options.js","../src/app.ts","../src/env/index.ts","../node_modules/dotenv/config.js","../src/http/controllers/users/routes.ts","../src/lib/prisma.ts","../src/generated/prisma/client.ts","../src/generated/prisma/internal/class.ts","../src/generated/prisma/internal/prismaNamespace.ts","../src/repositories/prisma/prisma-users-repository.ts","../src/services/errors/user-already-exists-error.ts","../src/services/user/register.ts","../src/services/factories/users/make-register-user-service.ts","../src/http/controllers/users/register.ts","../src/services/errors/invalid-credentials-error.ts","../src/services/user/authenticate.ts","../src/utils/jwt-create.ts","../src/services/factories/users/make-auth-user-service.ts","../src/http/controllers/users/authenticate.ts","../src/services/errors/resource-not-found-error.ts","../src/services/user/get-profile.ts","../src/services/factories/users/make-get-user-profile-service.ts","../src/http/controllers/users/me.ts","../src/http/middlewares/verify-jwt.ts","../src/http/controllers/work-entries/routes.ts","../src/repositories/prisma/prisma-work-entries.repository.ts","../src/services/errors/max-daily-of-work-entrie-error.ts","../src/services/work-entries/create.ts","../src/services/factories/work-entries/make-create-work-entrie-service.ts","../src/http/controllers/work-entries/create.ts","../src/services/work-entries/update.ts","../src/services/factories/work-entries/make-update-work-entries-service.ts","../src/http/controllers/work-entries/update.ts","../src/services/work-entries/delete.ts","../src/services/factories/work-entries/make-delete-work-entries-service.ts","../src/http/controllers/work-entries/delete.ts","../src/services/work-entries/fetch-history.ts","../src/services/factories/work-entries/make-fetch-user-history-service.ts","../src/http/controllers/work-entries/fetch-history.ts","../src/services/work-entries/fetch-entries.ts","../src/services/factories/work-entries/make-fetch-user-entries-service.ts","../src/http/controllers/work-entries/fetch-entries.ts","../src/server.ts"],"sourcesContent":["{\n  \"name\": \"dotenv\",\n  \"version\": \"17.2.3\",\n  \"description\": \"Loads environment variables from .env file\",\n  \"main\": \"lib/main.js\",\n  \"types\": \"lib/main.d.ts\",\n  \"exports\": {\n    \".\": {\n      \"types\": \"./lib/main.d.ts\",\n      \"require\": \"./lib/main.js\",\n      \"default\": \"./lib/main.js\"\n    },\n    \"./config\": \"./config.js\",\n    \"./config.js\": \"./config.js\",\n    \"./lib/env-options\": \"./lib/env-options.js\",\n    \"./lib/env-options.js\": \"./lib/env-options.js\",\n    \"./lib/cli-options\": \"./lib/cli-options.js\",\n    \"./lib/cli-options.js\": \"./lib/cli-options.js\",\n    \"./package.json\": \"./package.json\"\n  },\n  \"scripts\": {\n    \"dts-check\": \"tsc --project tests/types/tsconfig.json\",\n    \"lint\": \"standard\",\n    \"pretest\": \"npm run lint && npm run dts-check\",\n    \"test\": \"tap run tests/**/*.js --allow-empty-coverage --disable-coverage --timeout=60000\",\n    \"test:coverage\": \"tap run tests/**/*.js --show-full-coverage --timeout=60000 --coverage-report=text --coverage-report=lcov\",\n    \"prerelease\": \"npm test\",\n    \"release\": \"standard-version\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git://github.com/motdotla/dotenv.git\"\n  },\n  \"homepage\": \"https://github.com/motdotla/dotenv#readme\",\n  \"funding\": \"https://dotenvx.com\",\n  \"keywords\": [\n    \"dotenv\",\n    \"env\",\n    \".env\",\n    \"environment\",\n    \"variables\",\n    \"config\",\n    \"settings\"\n  ],\n  \"readmeFilename\": \"README.md\",\n  \"license\": \"BSD-2-Clause\",\n  \"devDependencies\": {\n    \"@types/node\": \"^18.11.3\",\n    \"decache\": \"^4.6.2\",\n    \"sinon\": \"^14.0.1\",\n    \"standard\": \"^17.0.0\",\n    \"standard-version\": \"^9.5.0\",\n    \"tap\": \"^19.2.0\",\n    \"typescript\": \"^4.8.4\"\n  },\n  \"engines\": {\n    \"node\": \">=12\"\n  },\n  \"browser\": {\n    \"fs\": false\n  }\n}\n","const fs = require('fs')\nconst path = require('path')\nconst os = require('os')\nconst crypto = require('crypto')\nconst packageJson = require('../package.json')\n\nconst version = packageJson.version\n\n// Array of tips to display randomly\nconst TIPS = [\n  'üîê encrypt with Dotenvx: https://dotenvx.com',\n  'üîê prevent committing .env to code: https://dotenvx.com/precommit',\n  'üîê prevent building .env in docker: https://dotenvx.com/prebuild',\n  'üì° add observability to secrets: https://dotenvx.com/ops',\n  'üë• sync secrets across teammates & machines: https://dotenvx.com/ops',\n  'üóÇÔ∏è backup and recover secrets: https://dotenvx.com/ops',\n  '‚úÖ audit secrets and track compliance: https://dotenvx.com/ops',\n  'üîÑ add secrets lifecycle management: https://dotenvx.com/ops',\n  'üîë add access controls to secrets: https://dotenvx.com/ops',\n  'üõ†Ô∏è  run anywhere with `dotenvx run -- yourcommand`',\n  '‚öôÔ∏è  specify custom .env file path with { path: \\'/custom/path/.env\\' }',\n  '‚öôÔ∏è  enable debug logging with { debug: true }',\n  '‚öôÔ∏è  override existing env vars with { override: true }',\n  '‚öôÔ∏è  suppress all logs with { quiet: true }',\n  '‚öôÔ∏è  write to custom object with { processEnv: myObject }',\n  '‚öôÔ∏è  load multiple .env files with { path: [\\'.env.local\\', \\'.env\\'] }'\n]\n\n// Get a random tip from the tips array\nfunction _getRandomTip () {\n  return TIPS[Math.floor(Math.random() * TIPS.length)]\n}\n\nfunction parseBoolean (value) {\n  if (typeof value === 'string') {\n    return !['false', '0', 'no', 'off', ''].includes(value.toLowerCase())\n  }\n  return Boolean(value)\n}\n\nfunction supportsAnsi () {\n  return process.stdout.isTTY // && process.env.TERM !== 'dumb'\n}\n\nfunction dim (text) {\n  return supportsAnsi() ? `\\x1b[2m${text}\\x1b[0m` : text\n}\n\nconst LINE = /(?:^|^)\\s*(?:export\\s+)?([\\w.-]+)(?:\\s*=\\s*?|:\\s+?)(\\s*'(?:\\\\'|[^'])*'|\\s*\"(?:\\\\\"|[^\"])*\"|\\s*`(?:\\\\`|[^`])*`|[^#\\r\\n]+)?\\s*(?:#.*)?(?:$|$)/mg\n\n// Parse src into an Object\nfunction parse (src) {\n  const obj = {}\n\n  // Convert buffer to string\n  let lines = src.toString()\n\n  // Convert line breaks to same format\n  lines = lines.replace(/\\r\\n?/mg, '\\n')\n\n  let match\n  while ((match = LINE.exec(lines)) != null) {\n    const key = match[1]\n\n    // Default undefined or null to empty string\n    let value = (match[2] || '')\n\n    // Remove whitespace\n    value = value.trim()\n\n    // Check if double quoted\n    const maybeQuote = value[0]\n\n    // Remove surrounding quotes\n    value = value.replace(/^(['\"`])([\\s\\S]*)\\1$/mg, '$2')\n\n    // Expand newlines if double quoted\n    if (maybeQuote === '\"') {\n      value = value.replace(/\\\\n/g, '\\n')\n      value = value.replace(/\\\\r/g, '\\r')\n    }\n\n    // Add to object\n    obj[key] = value\n  }\n\n  return obj\n}\n\nfunction _parseVault (options) {\n  options = options || {}\n\n  const vaultPath = _vaultPath(options)\n  options.path = vaultPath // parse .env.vault\n  const result = DotenvModule.configDotenv(options)\n  if (!result.parsed) {\n    const err = new Error(`MISSING_DATA: Cannot parse ${vaultPath} for an unknown reason`)\n    err.code = 'MISSING_DATA'\n    throw err\n  }\n\n  // handle scenario for comma separated keys - for use with key rotation\n  // example: DOTENV_KEY=\"dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=prod,dotenv://:key_7890@dotenvx.com/vault/.env.vault?environment=prod\"\n  const keys = _dotenvKey(options).split(',')\n  const length = keys.length\n\n  let decrypted\n  for (let i = 0; i < length; i++) {\n    try {\n      // Get full key\n      const key = keys[i].trim()\n\n      // Get instructions for decrypt\n      const attrs = _instructions(result, key)\n\n      // Decrypt\n      decrypted = DotenvModule.decrypt(attrs.ciphertext, attrs.key)\n\n      break\n    } catch (error) {\n      // last key\n      if (i + 1 >= length) {\n        throw error\n      }\n      // try next key\n    }\n  }\n\n  // Parse decrypted .env string\n  return DotenvModule.parse(decrypted)\n}\n\nfunction _warn (message) {\n  console.error(`[dotenv@${version}][WARN] ${message}`)\n}\n\nfunction _debug (message) {\n  console.log(`[dotenv@${version}][DEBUG] ${message}`)\n}\n\nfunction _log (message) {\n  console.log(`[dotenv@${version}] ${message}`)\n}\n\nfunction _dotenvKey (options) {\n  // prioritize developer directly setting options.DOTENV_KEY\n  if (options && options.DOTENV_KEY && options.DOTENV_KEY.length > 0) {\n    return options.DOTENV_KEY\n  }\n\n  // secondary infra already contains a DOTENV_KEY environment variable\n  if (process.env.DOTENV_KEY && process.env.DOTENV_KEY.length > 0) {\n    return process.env.DOTENV_KEY\n  }\n\n  // fallback to empty string\n  return ''\n}\n\nfunction _instructions (result, dotenvKey) {\n  // Parse DOTENV_KEY. Format is a URI\n  let uri\n  try {\n    uri = new URL(dotenvKey)\n  } catch (error) {\n    if (error.code === 'ERR_INVALID_URL') {\n      const err = new Error('INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development')\n      err.code = 'INVALID_DOTENV_KEY'\n      throw err\n    }\n\n    throw error\n  }\n\n  // Get decrypt key\n  const key = uri.password\n  if (!key) {\n    const err = new Error('INVALID_DOTENV_KEY: Missing key part')\n    err.code = 'INVALID_DOTENV_KEY'\n    throw err\n  }\n\n  // Get environment\n  const environment = uri.searchParams.get('environment')\n  if (!environment) {\n    const err = new Error('INVALID_DOTENV_KEY: Missing environment part')\n    err.code = 'INVALID_DOTENV_KEY'\n    throw err\n  }\n\n  // Get ciphertext payload\n  const environmentKey = `DOTENV_VAULT_${environment.toUpperCase()}`\n  const ciphertext = result.parsed[environmentKey] // DOTENV_VAULT_PRODUCTION\n  if (!ciphertext) {\n    const err = new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${environmentKey} in your .env.vault file.`)\n    err.code = 'NOT_FOUND_DOTENV_ENVIRONMENT'\n    throw err\n  }\n\n  return { ciphertext, key }\n}\n\nfunction _vaultPath (options) {\n  let possibleVaultPath = null\n\n  if (options && options.path && options.path.length > 0) {\n    if (Array.isArray(options.path)) {\n      for (const filepath of options.path) {\n        if (fs.existsSync(filepath)) {\n          possibleVaultPath = filepath.endsWith('.vault') ? filepath : `${filepath}.vault`\n        }\n      }\n    } else {\n      possibleVaultPath = options.path.endsWith('.vault') ? options.path : `${options.path}.vault`\n    }\n  } else {\n    possibleVaultPath = path.resolve(process.cwd(), '.env.vault')\n  }\n\n  if (fs.existsSync(possibleVaultPath)) {\n    return possibleVaultPath\n  }\n\n  return null\n}\n\nfunction _resolveHome (envPath) {\n  return envPath[0] === '~' ? path.join(os.homedir(), envPath.slice(1)) : envPath\n}\n\nfunction _configVault (options) {\n  const debug = parseBoolean(process.env.DOTENV_CONFIG_DEBUG || (options && options.debug))\n  const quiet = parseBoolean(process.env.DOTENV_CONFIG_QUIET || (options && options.quiet))\n\n  if (debug || !quiet) {\n    _log('Loading env from encrypted .env.vault')\n  }\n\n  const parsed = DotenvModule._parseVault(options)\n\n  let processEnv = process.env\n  if (options && options.processEnv != null) {\n    processEnv = options.processEnv\n  }\n\n  DotenvModule.populate(processEnv, parsed, options)\n\n  return { parsed }\n}\n\nfunction configDotenv (options) {\n  const dotenvPath = path.resolve(process.cwd(), '.env')\n  let encoding = 'utf8'\n  let processEnv = process.env\n  if (options && options.processEnv != null) {\n    processEnv = options.processEnv\n  }\n  let debug = parseBoolean(processEnv.DOTENV_CONFIG_DEBUG || (options && options.debug))\n  let quiet = parseBoolean(processEnv.DOTENV_CONFIG_QUIET || (options && options.quiet))\n\n  if (options && options.encoding) {\n    encoding = options.encoding\n  } else {\n    if (debug) {\n      _debug('No encoding is specified. UTF-8 is used by default')\n    }\n  }\n\n  let optionPaths = [dotenvPath] // default, look for .env\n  if (options && options.path) {\n    if (!Array.isArray(options.path)) {\n      optionPaths = [_resolveHome(options.path)]\n    } else {\n      optionPaths = [] // reset default\n      for (const filepath of options.path) {\n        optionPaths.push(_resolveHome(filepath))\n      }\n    }\n  }\n\n  // Build the parsed data in a temporary object (because we need to return it).  Once we have the final\n  // parsed data, we will combine it with process.env (or options.processEnv if provided).\n  let lastError\n  const parsedAll = {}\n  for (const path of optionPaths) {\n    try {\n      // Specifying an encoding returns a string instead of a buffer\n      const parsed = DotenvModule.parse(fs.readFileSync(path, { encoding }))\n\n      DotenvModule.populate(parsedAll, parsed, options)\n    } catch (e) {\n      if (debug) {\n        _debug(`Failed to load ${path} ${e.message}`)\n      }\n      lastError = e\n    }\n  }\n\n  const populated = DotenvModule.populate(processEnv, parsedAll, options)\n\n  // handle user settings DOTENV_CONFIG_ options inside .env file(s)\n  debug = parseBoolean(processEnv.DOTENV_CONFIG_DEBUG || debug)\n  quiet = parseBoolean(processEnv.DOTENV_CONFIG_QUIET || quiet)\n\n  if (debug || !quiet) {\n    const keysCount = Object.keys(populated).length\n    const shortPaths = []\n    for (const filePath of optionPaths) {\n      try {\n        const relative = path.relative(process.cwd(), filePath)\n        shortPaths.push(relative)\n      } catch (e) {\n        if (debug) {\n          _debug(`Failed to load ${filePath} ${e.message}`)\n        }\n        lastError = e\n      }\n    }\n\n    _log(`injecting env (${keysCount}) from ${shortPaths.join(',')} ${dim(`-- tip: ${_getRandomTip()}`)}`)\n  }\n\n  if (lastError) {\n    return { parsed: parsedAll, error: lastError }\n  } else {\n    return { parsed: parsedAll }\n  }\n}\n\n// Populates process.env from .env file\nfunction config (options) {\n  // fallback to original dotenv if DOTENV_KEY is not set\n  if (_dotenvKey(options).length === 0) {\n    return DotenvModule.configDotenv(options)\n  }\n\n  const vaultPath = _vaultPath(options)\n\n  // dotenvKey exists but .env.vault file does not exist\n  if (!vaultPath) {\n    _warn(`You set DOTENV_KEY but you are missing a .env.vault file at ${vaultPath}. Did you forget to build it?`)\n\n    return DotenvModule.configDotenv(options)\n  }\n\n  return DotenvModule._configVault(options)\n}\n\nfunction decrypt (encrypted, keyStr) {\n  const key = Buffer.from(keyStr.slice(-64), 'hex')\n  let ciphertext = Buffer.from(encrypted, 'base64')\n\n  const nonce = ciphertext.subarray(0, 12)\n  const authTag = ciphertext.subarray(-16)\n  ciphertext = ciphertext.subarray(12, -16)\n\n  try {\n    const aesgcm = crypto.createDecipheriv('aes-256-gcm', key, nonce)\n    aesgcm.setAuthTag(authTag)\n    return `${aesgcm.update(ciphertext)}${aesgcm.final()}`\n  } catch (error) {\n    const isRange = error instanceof RangeError\n    const invalidKeyLength = error.message === 'Invalid key length'\n    const decryptionFailed = error.message === 'Unsupported state or unable to authenticate data'\n\n    if (isRange || invalidKeyLength) {\n      const err = new Error('INVALID_DOTENV_KEY: It must be 64 characters long (or more)')\n      err.code = 'INVALID_DOTENV_KEY'\n      throw err\n    } else if (decryptionFailed) {\n      const err = new Error('DECRYPTION_FAILED: Please check your DOTENV_KEY')\n      err.code = 'DECRYPTION_FAILED'\n      throw err\n    } else {\n      throw error\n    }\n  }\n}\n\n// Populate process.env with parsed values\nfunction populate (processEnv, parsed, options = {}) {\n  const debug = Boolean(options && options.debug)\n  const override = Boolean(options && options.override)\n  const populated = {}\n\n  if (typeof parsed !== 'object') {\n    const err = new Error('OBJECT_REQUIRED: Please check the processEnv argument being passed to populate')\n    err.code = 'OBJECT_REQUIRED'\n    throw err\n  }\n\n  // Set process.env\n  for (const key of Object.keys(parsed)) {\n    if (Object.prototype.hasOwnProperty.call(processEnv, key)) {\n      if (override === true) {\n        processEnv[key] = parsed[key]\n        populated[key] = parsed[key]\n      }\n\n      if (debug) {\n        if (override === true) {\n          _debug(`\"${key}\" is already defined and WAS overwritten`)\n        } else {\n          _debug(`\"${key}\" is already defined and was NOT overwritten`)\n        }\n      }\n    } else {\n      processEnv[key] = parsed[key]\n      populated[key] = parsed[key]\n    }\n  }\n\n  return populated\n}\n\nconst DotenvModule = {\n  configDotenv,\n  _configVault,\n  _parseVault,\n  config,\n  decrypt,\n  parse,\n  populate\n}\n\nmodule.exports.configDotenv = DotenvModule.configDotenv\nmodule.exports._configVault = DotenvModule._configVault\nmodule.exports._parseVault = DotenvModule._parseVault\nmodule.exports.config = DotenvModule.config\nmodule.exports.decrypt = DotenvModule.decrypt\nmodule.exports.parse = DotenvModule.parse\nmodule.exports.populate = DotenvModule.populate\n\nmodule.exports = DotenvModule\n","// ../config.js accepts options via environment variables\nconst options = {}\n\nif (process.env.DOTENV_CONFIG_ENCODING != null) {\n  options.encoding = process.env.DOTENV_CONFIG_ENCODING\n}\n\nif (process.env.DOTENV_CONFIG_PATH != null) {\n  options.path = process.env.DOTENV_CONFIG_PATH\n}\n\nif (process.env.DOTENV_CONFIG_QUIET != null) {\n  options.quiet = process.env.DOTENV_CONFIG_QUIET\n}\n\nif (process.env.DOTENV_CONFIG_DEBUG != null) {\n  options.debug = process.env.DOTENV_CONFIG_DEBUG\n}\n\nif (process.env.DOTENV_CONFIG_OVERRIDE != null) {\n  options.override = process.env.DOTENV_CONFIG_OVERRIDE\n}\n\nif (process.env.DOTENV_CONFIG_DOTENV_KEY != null) {\n  options.DOTENV_KEY = process.env.DOTENV_CONFIG_DOTENV_KEY\n}\n\nmodule.exports = options\n","const re = /^dotenv_config_(encoding|path|quiet|debug|override|DOTENV_KEY)=(.+)$/\n\nmodule.exports = function optionMatcher (args) {\n  const options = args.reduce(function (acc, cur) {\n    const matches = cur.match(re)\n    if (matches) {\n      acc[matches[1]] = matches[2]\n    }\n    return acc\n  }, {})\n\n  if (!('quiet' in options)) {\n    options.quiet = 'true'\n  }\n\n  return options\n}\n","import type { Request, Response, NextFunction } from 'express'\r\nimport express from 'express'\r\nimport { env } from './env/index.js'\r\n\r\nimport { ZodError } from 'zod'\r\n\r\nimport { userRoutes } from './http/controllers/users/routes.js'\r\nimport { workEntrieRoutes } from './http/controllers/work-entries/routes.js'\r\n\r\nimport { InvalidCredentialsError } from './services/errors/invalid-credentials-error.js'\r\nimport { MaxDailyOfWorkEntriesError } from './services/errors/max-daily-of-work-entrie-error.js'\r\nimport { ResourceNotFoundError } from './services/errors/resource-not-found-error.js'\r\nimport { UserAlreadyExistsError } from './services/errors/user-already-exists-error.js'\r\n\r\nexport const app = express()\r\n\r\napp.use(express.json())\r\n\r\napp.use('/user', userRoutes)\r\napp.use('/workentrie', workEntrieRoutes)\r\n\r\napp.use((err: Error, _req: Request, res: Response, _next: NextFunction) => {\r\n  if (err instanceof ZodError) {\r\n    return res.status(400).send({\r\n      message: 'Validation error. ',\r\n      issues: err.issues,\r\n    })\r\n  }\r\n\r\n  if (err instanceof InvalidCredentialsError) {\r\n    return res.status(400).send({ message: err.message })\r\n  }\r\n\r\n  if (err instanceof MaxDailyOfWorkEntriesError) {\r\n    return res.status(409).send({ message: err.message })\r\n  }\r\n\r\n  if (err instanceof ResourceNotFoundError) {\r\n    return res.status(404).send({ message: err.message })\r\n  }\r\n\r\n  if (err instanceof UserAlreadyExistsError) {\r\n    return res.status(409).send({ message: err.message })\r\n  }\r\n\r\n  if (env.NODE_ENV !== 'production') {\r\n    console.error(err)\r\n  }\r\n\r\n  return res.status(500).send({ message: '‚ùå Internal server error' })\r\n})\r\n","import { z } from 'zod'\r\nimport 'dotenv/config'\r\n\r\nconst envSchema = z.object({\r\n  NODE_ENV: z.enum(['dev', 'test', 'production']).default('dev'),\r\n  PORT: z.coerce.number().default(3333),\r\n  DATABASE_URL: z.string(),\r\n  JWT_SECRET: z.string(),\r\n})\r\n\r\n\r\nconst _env = envSchema.safeParse(process.env)\r\n\r\nif (_env.success === false) {\r\n  console.error('‚ùå Invalid environment variables', z.treeifyError(_env.error))\r\n  \r\n  throw new Error('Invalid environment variables!')\r\n}\r\n\r\nexport const env = _env.data","(function () {\n  require('./lib/main').config(\n    Object.assign(\n      {},\n      require('./lib/env-options'),\n      require('./lib/cli-options')(process.argv)\n    )\n  )\n})()\n","import { Router } from 'express'\r\n\r\nimport { registerUser } from './register.js'\r\nimport { authenticate } from './authenticate.js'\r\nimport { me } from './me.js'\r\nimport { verifyJwt } from '@/http/middlewares/verify-jwt.js'\r\n\r\nexport const userRoutes = Router()\r\n\r\nuserRoutes.post('/register', registerUser)\r\nuserRoutes.post('/session', authenticate)\r\nuserRoutes.get('/me', verifyJwt, me)\r\n","import { env } from '@/env/index.js'\r\nimport { PrismaPg } from '@prisma/adapter-pg'\r\nimport { PrismaClient } from '@/generated/prisma/client.js'\r\n\r\nexport const schema = new URL(env.DATABASE_URL).searchParams.get('schema') || 'public'\r\n\r\nconst adapter = new PrismaPg({ connectionString: env.DATABASE_URL }, { schema })\r\n\r\nexport const prisma = new PrismaClient({\r\n  adapter,\r\n  log: env.NODE_ENV === 'dev' ? ['query'] : [],\r\n})","\n/* !!! This is code generated by Prisma. Do not edit directly. !!! */\n/* eslint-disable */\n// biome-ignore-all lint: generated file\n// @ts-nocheck \n/*\n * This file should be your main import to use Prisma. Through it you get access to all the models, enums, and input types.\n * If you're looking for something you can import in the client-side of your application, please refer to the `browser.ts` file instead.\n *\n * üü¢ You can import this file directly.\n */\n\nimport * as process from 'node:process'\nimport * as path from 'node:path'\nimport { fileURLToPath } from 'node:url'\nglobalThis['__dirname'] = path.dirname(fileURLToPath(import.meta.url))\n\nimport * as runtime from \"@prisma/client/runtime/client\"\nimport * as $Enums from \"./enums.js\"\nimport * as $Class from \"./internal/class.js\"\nimport * as Prisma from \"./internal/prismaNamespace.js\"\n\nexport * as $Enums from './enums.js'\nexport * from \"./enums.js\"\n/**\n * ## Prisma Client\n * \n * Type-safe database client for TypeScript\n * @example\n * ```\n * const prisma = new PrismaClient()\n * // Fetch zero or more Users\n * const users = await prisma.user.findMany()\n * ```\n * \n * Read more in our [docs](https://pris.ly/d/client).\n */\nexport const PrismaClient = $Class.getPrismaClientClass()\nexport type PrismaClient<LogOpts extends Prisma.LogLevel = never, OmitOpts extends Prisma.PrismaClientOptions[\"omit\"] = Prisma.PrismaClientOptions[\"omit\"], ExtArgs extends runtime.Types.Extensions.InternalArgs = runtime.Types.Extensions.DefaultArgs> = $Class.PrismaClient<LogOpts, OmitOpts, ExtArgs>\nexport { Prisma }\n\n/**\n * Model User\n * \n */\nexport type User = Prisma.UserModel\n/**\n * Model WorkEntrie\n * \n */\nexport type WorkEntrie = Prisma.WorkEntrieModel\n","\n/* !!! This is code generated by Prisma. Do not edit directly. !!! */\n/* eslint-disable */\n// biome-ignore-all lint: generated file\n// @ts-nocheck \n/*\n * WARNING: This is an internal file that is subject to change!\n *\n * üõë Under no circumstances should you import this file directly! üõë\n *\n * Please import the `PrismaClient` class from the `client.ts` file instead.\n */\n\nimport * as runtime from \"@prisma/client/runtime/client\"\nimport type * as Prisma from \"./prismaNamespace.js\"\n\n\nconst config: runtime.GetPrismaClientConfig = {\n  \"previewFeatures\": [],\n  \"clientVersion\": \"7.2.0\",\n  \"engineVersion\": \"0c8ef2ce45c83248ab3df073180d5eda9e8be7a3\",\n  \"activeProvider\": \"postgresql\",\n  \"inlineSchema\": \"// This is your Prisma schema file,\\n// learn more about it in the docs: https://pris.ly/d/prisma-schema\\n\\n// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?\\n// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init\\n\\ngenerator client {\\n  provider = \\\"prisma-client\\\"\\n  output   = \\\"../src/generated/prisma\\\"\\n}\\n\\ndatasource db {\\n  provider = \\\"postgresql\\\"\\n}\\n\\nmodel User {\\n  id            String   @id @default(uuid())\\n  name          String\\n  email         String   @unique\\n  password_hash String\\n  created_at    DateTime @default(now())\\n\\n  entries WorkEntrie[]\\n\\n  @@map(\\\"users\\\")\\n}\\n\\nmodel WorkEntrie {\\n  id                  String   @id @default(uuid())\\n  date                DateTime\\n  duration_minutes    Int\\n  hourly_rate_at_time Decimal  @db.Decimal(10, 2)\\n\\n  user    User   @relation(fields: [user_id], references: [id])\\n  user_id String\\n\\n  @@index([user_id, date])\\n  @@map(\\\"work_entries\\\")\\n}\\n\",\n  \"runtimeDataModel\": {\n    \"models\": {},\n    \"enums\": {},\n    \"types\": {}\n  }\n}\n\nconfig.runtimeDataModel = JSON.parse(\"{\\\"models\\\":{\\\"User\\\":{\\\"fields\\\":[{\\\"name\\\":\\\"id\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"name\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"email\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"password_hash\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"created_at\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"DateTime\\\"},{\\\"name\\\":\\\"entries\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"WorkEntrie\\\",\\\"relationName\\\":\\\"UserToWorkEntrie\\\"}],\\\"dbName\\\":\\\"users\\\"},\\\"WorkEntrie\\\":{\\\"fields\\\":[{\\\"name\\\":\\\"id\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"date\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"DateTime\\\"},{\\\"name\\\":\\\"duration_minutes\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"Int\\\"},{\\\"name\\\":\\\"hourly_rate_at_time\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"Decimal\\\"},{\\\"name\\\":\\\"user\\\",\\\"kind\\\":\\\"object\\\",\\\"type\\\":\\\"User\\\",\\\"relationName\\\":\\\"UserToWorkEntrie\\\"},{\\\"name\\\":\\\"user_id\\\",\\\"kind\\\":\\\"scalar\\\",\\\"type\\\":\\\"String\\\"}],\\\"dbName\\\":\\\"work_entries\\\"}},\\\"enums\\\":{},\\\"types\\\":{}}\")\n\nasync function decodeBase64AsWasm(wasmBase64: string): Promise<WebAssembly.Module> {\n  const { Buffer } = await import('node:buffer')\n  const wasmArray = Buffer.from(wasmBase64, 'base64')\n  return new WebAssembly.Module(wasmArray)\n}\n\nconfig.compilerWasm = {\n  getRuntime: async () => await import(\"@prisma/client/runtime/query_compiler_bg.postgresql.mjs\"),\n\n  getQueryCompilerWasmModule: async () => {\n    const { wasm } = await import(\"@prisma/client/runtime/query_compiler_bg.postgresql.wasm-base64.mjs\")\n    return await decodeBase64AsWasm(wasm)\n  }\n}\n\n\n\nexport type LogOptions<ClientOptions extends Prisma.PrismaClientOptions> =\n  'log' extends keyof ClientOptions ? ClientOptions['log'] extends Array<Prisma.LogLevel | Prisma.LogDefinition> ? Prisma.GetEvents<ClientOptions['log']> : never : never\n\nexport interface PrismaClientConstructor {\n    /**\n   * ## Prisma Client\n   * \n   * Type-safe database client for TypeScript\n   * @example\n   * ```\n   * const prisma = new PrismaClient()\n   * // Fetch zero or more Users\n   * const users = await prisma.user.findMany()\n   * ```\n   * \n   * Read more in our [docs](https://pris.ly/d/client).\n   */\n\n  new <\n    Options extends Prisma.PrismaClientOptions = Prisma.PrismaClientOptions,\n    LogOpts extends LogOptions<Options> = LogOptions<Options>,\n    OmitOpts extends Prisma.PrismaClientOptions['omit'] = Options extends { omit: infer U } ? U : Prisma.PrismaClientOptions['omit'],\n    ExtArgs extends runtime.Types.Extensions.InternalArgs = runtime.Types.Extensions.DefaultArgs\n  >(options: Prisma.Subset<Options, Prisma.PrismaClientOptions> ): PrismaClient<LogOpts, OmitOpts, ExtArgs>\n}\n\n/**\n * ## Prisma Client\n * \n * Type-safe database client for TypeScript\n * @example\n * ```\n * const prisma = new PrismaClient()\n * // Fetch zero or more Users\n * const users = await prisma.user.findMany()\n * ```\n * \n * Read more in our [docs](https://pris.ly/d/client).\n */\n\nexport interface PrismaClient<\n  in LogOpts extends Prisma.LogLevel = never,\n  in out OmitOpts extends Prisma.PrismaClientOptions['omit'] = undefined,\n  in out ExtArgs extends runtime.Types.Extensions.InternalArgs = runtime.Types.Extensions.DefaultArgs\n> {\n  [K: symbol]: { types: Prisma.TypeMap<ExtArgs>['other'] }\n\n  $on<V extends LogOpts>(eventType: V, callback: (event: V extends 'query' ? Prisma.QueryEvent : Prisma.LogEvent) => void): PrismaClient;\n\n  /**\n   * Connect with the database\n   */\n  $connect(): runtime.Types.Utils.JsPromise<void>;\n\n  /**\n   * Disconnect from the database\n   */\n  $disconnect(): runtime.Types.Utils.JsPromise<void>;\n\n/**\n   * Executes a prepared raw query and returns the number of affected rows.\n   * @example\n   * ```\n   * const result = await prisma.$executeRaw`UPDATE User SET cool = ${true} WHERE email = ${'user@email.com'};`\n   * ```\n   *\n   * Read more in our [docs](https://pris.ly/d/raw-queries).\n   */\n  $executeRaw<T = unknown>(query: TemplateStringsArray | Prisma.Sql, ...values: any[]): Prisma.PrismaPromise<number>;\n\n  /**\n   * Executes a raw query and returns the number of affected rows.\n   * Susceptible to SQL injections, see documentation.\n   * @example\n   * ```\n   * const result = await prisma.$executeRawUnsafe('UPDATE User SET cool = $1 WHERE email = $2 ;', true, 'user@email.com')\n   * ```\n   *\n   * Read more in our [docs](https://pris.ly/d/raw-queries).\n   */\n  $executeRawUnsafe<T = unknown>(query: string, ...values: any[]): Prisma.PrismaPromise<number>;\n\n  /**\n   * Performs a prepared raw query and returns the `SELECT` data.\n   * @example\n   * ```\n   * const result = await prisma.$queryRaw`SELECT * FROM User WHERE id = ${1} OR email = ${'user@email.com'};`\n   * ```\n   *\n   * Read more in our [docs](https://pris.ly/d/raw-queries).\n   */\n  $queryRaw<T = unknown>(query: TemplateStringsArray | Prisma.Sql, ...values: any[]): Prisma.PrismaPromise<T>;\n\n  /**\n   * Performs a raw query and returns the `SELECT` data.\n   * Susceptible to SQL injections, see documentation.\n   * @example\n   * ```\n   * const result = await prisma.$queryRawUnsafe('SELECT * FROM User WHERE id = $1 OR email = $2;', 1, 'user@email.com')\n   * ```\n   *\n   * Read more in our [docs](https://pris.ly/d/raw-queries).\n   */\n  $queryRawUnsafe<T = unknown>(query: string, ...values: any[]): Prisma.PrismaPromise<T>;\n\n\n  /**\n   * Allows the running of a sequence of read/write operations that are guaranteed to either succeed or fail as a whole.\n   * @example\n   * ```\n   * const [george, bob, alice] = await prisma.$transaction([\n   *   prisma.user.create({ data: { name: 'George' } }),\n   *   prisma.user.create({ data: { name: 'Bob' } }),\n   *   prisma.user.create({ data: { name: 'Alice' } }),\n   * ])\n   * ```\n   * \n   * Read more in our [docs](https://www.prisma.io/docs/concepts/components/prisma-client/transactions).\n   */\n  $transaction<P extends Prisma.PrismaPromise<any>[]>(arg: [...P], options?: { isolationLevel?: Prisma.TransactionIsolationLevel }): runtime.Types.Utils.JsPromise<runtime.Types.Utils.UnwrapTuple<P>>\n\n  $transaction<R>(fn: (prisma: Omit<PrismaClient, runtime.ITXClientDenyList>) => runtime.Types.Utils.JsPromise<R>, options?: { maxWait?: number, timeout?: number, isolationLevel?: Prisma.TransactionIsolationLevel }): runtime.Types.Utils.JsPromise<R>\n\n  $extends: runtime.Types.Extensions.ExtendsHook<\"extends\", Prisma.TypeMapCb<OmitOpts>, ExtArgs, runtime.Types.Utils.Call<Prisma.TypeMapCb<OmitOpts>, {\n    extArgs: ExtArgs\n  }>>\n\n      /**\n   * `prisma.user`: Exposes CRUD operations for the **User** model.\n    * Example usage:\n    * ```ts\n    * // Fetch zero or more Users\n    * const users = await prisma.user.findMany()\n    * ```\n    */\n  get user(): Prisma.UserDelegate<ExtArgs, { omit: OmitOpts }>;\n\n  /**\n   * `prisma.workEntrie`: Exposes CRUD operations for the **WorkEntrie** model.\n    * Example usage:\n    * ```ts\n    * // Fetch zero or more WorkEntries\n    * const workEntries = await prisma.workEntrie.findMany()\n    * ```\n    */\n  get workEntrie(): Prisma.WorkEntrieDelegate<ExtArgs, { omit: OmitOpts }>;\n}\n\nexport function getPrismaClientClass(): PrismaClientConstructor {\n  return runtime.getPrismaClient(config) as unknown as PrismaClientConstructor\n}\n","\n/* !!! This is code generated by Prisma. Do not edit directly. !!! */\n/* eslint-disable */\n// biome-ignore-all lint: generated file\n// @ts-nocheck \n/*\n * WARNING: This is an internal file that is subject to change!\n *\n * üõë Under no circumstances should you import this file directly! üõë\n *\n * All exports from this file are wrapped under a `Prisma` namespace object in the client.ts file.\n * While this enables partial backward compatibility, it is not part of the stable public API.\n *\n * If you are looking for your Models, Enums, and Input Types, please import them from the respective\n * model files in the `model` directory!\n */\n\nimport * as runtime from \"@prisma/client/runtime/client\"\nimport type * as Prisma from \"../models.js\"\nimport { type PrismaClient } from \"./class.js\"\n\nexport type * from '../models.js'\n\nexport type DMMF = typeof runtime.DMMF\n\nexport type PrismaPromise<T> = runtime.Types.Public.PrismaPromise<T>\n\n/**\n * Prisma Errors\n */\n\nexport const PrismaClientKnownRequestError = runtime.PrismaClientKnownRequestError\nexport type PrismaClientKnownRequestError = runtime.PrismaClientKnownRequestError\n\nexport const PrismaClientUnknownRequestError = runtime.PrismaClientUnknownRequestError\nexport type PrismaClientUnknownRequestError = runtime.PrismaClientUnknownRequestError\n\nexport const PrismaClientRustPanicError = runtime.PrismaClientRustPanicError\nexport type PrismaClientRustPanicError = runtime.PrismaClientRustPanicError\n\nexport const PrismaClientInitializationError = runtime.PrismaClientInitializationError\nexport type PrismaClientInitializationError = runtime.PrismaClientInitializationError\n\nexport const PrismaClientValidationError = runtime.PrismaClientValidationError\nexport type PrismaClientValidationError = runtime.PrismaClientValidationError\n\n/**\n * Re-export of sql-template-tag\n */\nexport const sql = runtime.sqltag\nexport const empty = runtime.empty\nexport const join = runtime.join\nexport const raw = runtime.raw\nexport const Sql = runtime.Sql\nexport type Sql = runtime.Sql\n\n\n\n/**\n * Decimal.js\n */\nexport const Decimal = runtime.Decimal\nexport type Decimal = runtime.Decimal\n\nexport type DecimalJsLike = runtime.DecimalJsLike\n\n/**\n* Extensions\n*/\nexport type Extension = runtime.Types.Extensions.UserArgs\nexport const getExtensionContext = runtime.Extensions.getExtensionContext\nexport type Args<T, F extends runtime.Operation> = runtime.Types.Public.Args<T, F>\nexport type Payload<T, F extends runtime.Operation = never> = runtime.Types.Public.Payload<T, F>\nexport type Result<T, A, F extends runtime.Operation> = runtime.Types.Public.Result<T, A, F>\nexport type Exact<A, W> = runtime.Types.Public.Exact<A, W>\n\nexport type PrismaVersion = {\n  client: string\n  engine: string\n}\n\n/**\n * Prisma Client JS version: 7.2.0\n * Query Engine version: 0c8ef2ce45c83248ab3df073180d5eda9e8be7a3\n */\nexport const prismaVersion: PrismaVersion = {\n  client: \"7.2.0\",\n  engine: \"0c8ef2ce45c83248ab3df073180d5eda9e8be7a3\"\n}\n\n/**\n * Utility Types\n */\n\nexport type Bytes = runtime.Bytes\nexport type JsonObject = runtime.JsonObject\nexport type JsonArray = runtime.JsonArray\nexport type JsonValue = runtime.JsonValue\nexport type InputJsonObject = runtime.InputJsonObject\nexport type InputJsonArray = runtime.InputJsonArray\nexport type InputJsonValue = runtime.InputJsonValue\n\n\nexport const NullTypes = {\n  DbNull: runtime.NullTypes.DbNull as (new (secret: never) => typeof runtime.DbNull),\n  JsonNull: runtime.NullTypes.JsonNull as (new (secret: never) => typeof runtime.JsonNull),\n  AnyNull: runtime.NullTypes.AnyNull as (new (secret: never) => typeof runtime.AnyNull),\n}\n/**\n * Helper for filtering JSON entries that have `null` on the database (empty on the db)\n *\n * @see https://www.prisma.io/docs/concepts/components/prisma-client/working-with-fields/working-with-json-fields#filtering-on-a-json-field\n */\nexport const DbNull = runtime.DbNull\n\n/**\n * Helper for filtering JSON entries that have JSON `null` values (not empty on the db)\n *\n * @see https://www.prisma.io/docs/concepts/components/prisma-client/working-with-fields/working-with-json-fields#filtering-on-a-json-field\n */\nexport const JsonNull = runtime.JsonNull\n\n/**\n * Helper for filtering JSON entries that are `Prisma.DbNull` or `Prisma.JsonNull`\n *\n * @see https://www.prisma.io/docs/concepts/components/prisma-client/working-with-fields/working-with-json-fields#filtering-on-a-json-field\n */\nexport const AnyNull = runtime.AnyNull\n\n\ntype SelectAndInclude = {\n  select: any\n  include: any\n}\n\ntype SelectAndOmit = {\n  select: any\n  omit: any\n}\n\n/**\n * From T, pick a set of properties whose keys are in the union K\n */\ntype Prisma__Pick<T, K extends keyof T> = {\n    [P in K]: T[P];\n};\n\nexport type Enumerable<T> = T | Array<T>;\n\n/**\n * Subset\n * @desc From `T` pick properties that exist in `U`. Simple version of Intersection\n */\nexport type Subset<T, U> = {\n  [key in keyof T]: key extends keyof U ? T[key] : never;\n};\n\n/**\n * SelectSubset\n * @desc From `T` pick properties that exist in `U`. Simple version of Intersection.\n * Additionally, it validates, if both select and include are present. If the case, it errors.\n */\nexport type SelectSubset<T, U> = {\n  [key in keyof T]: key extends keyof U ? T[key] : never\n} &\n  (T extends SelectAndInclude\n    ? 'Please either choose `select` or `include`.'\n    : T extends SelectAndOmit\n      ? 'Please either choose `select` or `omit`.'\n      : {})\n\n/**\n * Subset + Intersection\n * @desc From `T` pick properties that exist in `U` and intersect `K`\n */\nexport type SubsetIntersection<T, U, K> = {\n  [key in keyof T]: key extends keyof U ? T[key] : never\n} &\n  K\n\ntype Without<T, U> = { [P in Exclude<keyof T, keyof U>]?: never };\n\n/**\n * XOR is needed to have a real mutually exclusive union type\n * https://stackoverflow.com/questions/42123407/does-typescript-support-mutually-exclusive-types\n */\nexport type XOR<T, U> =\n  T extends object ?\n  U extends object ?\n    (Without<T, U> & U) | (Without<U, T> & T)\n  : U : T\n\n\n/**\n * Is T a Record?\n */\ntype IsObject<T extends any> = T extends Array<any>\n? False\n: T extends Date\n? False\n: T extends Uint8Array\n? False\n: T extends BigInt\n? False\n: T extends object\n? True\n: False\n\n\n/**\n * If it's T[], return T\n */\nexport type UnEnumerate<T extends unknown> = T extends Array<infer U> ? U : T\n\n/**\n * From ts-toolbelt\n */\n\ntype __Either<O extends object, K extends Key> = Omit<O, K> &\n  {\n    // Merge all but K\n    [P in K]: Prisma__Pick<O, P & keyof O> // With K possibilities\n  }[K]\n\ntype EitherStrict<O extends object, K extends Key> = Strict<__Either<O, K>>\n\ntype EitherLoose<O extends object, K extends Key> = ComputeRaw<__Either<O, K>>\n\ntype _Either<\n  O extends object,\n  K extends Key,\n  strict extends Boolean\n> = {\n  1: EitherStrict<O, K>\n  0: EitherLoose<O, K>\n}[strict]\n\nexport type Either<\n  O extends object,\n  K extends Key,\n  strict extends Boolean = 1\n> = O extends unknown ? _Either<O, K, strict> : never\n\nexport type Union = any\n\nexport type PatchUndefined<O extends object, O1 extends object> = {\n  [K in keyof O]: O[K] extends undefined ? At<O1, K> : O[K]\n} & {}\n\n/** Helper Types for \"Merge\" **/\nexport type IntersectOf<U extends Union> = (\n  U extends unknown ? (k: U) => void : never\n) extends (k: infer I) => void\n  ? I\n  : never\n\nexport type Overwrite<O extends object, O1 extends object> = {\n    [K in keyof O]: K extends keyof O1 ? O1[K] : O[K];\n} & {};\n\ntype _Merge<U extends object> = IntersectOf<Overwrite<U, {\n    [K in keyof U]-?: At<U, K>;\n}>>;\n\ntype Key = string | number | symbol;\ntype AtStrict<O extends object, K extends Key> = O[K & keyof O];\ntype AtLoose<O extends object, K extends Key> = O extends unknown ? AtStrict<O, K> : never;\nexport type At<O extends object, K extends Key, strict extends Boolean = 1> = {\n    1: AtStrict<O, K>;\n    0: AtLoose<O, K>;\n}[strict];\n\nexport type ComputeRaw<A extends any> = A extends Function ? A : {\n  [K in keyof A]: A[K];\n} & {};\n\nexport type OptionalFlat<O> = {\n  [K in keyof O]?: O[K];\n} & {};\n\ntype _Record<K extends keyof any, T> = {\n  [P in K]: T;\n};\n\n// cause typescript not to expand types and preserve names\ntype NoExpand<T> = T extends unknown ? T : never;\n\n// this type assumes the passed object is entirely optional\nexport type AtLeast<O extends object, K extends string> = NoExpand<\n  O extends unknown\n  ? | (K extends keyof O ? { [P in K]: O[P] } & O : O)\n    | {[P in keyof O as P extends K ? P : never]-?: O[P]} & O\n  : never>;\n\ntype _Strict<U, _U = U> = U extends unknown ? U & OptionalFlat<_Record<Exclude<Keys<_U>, keyof U>, never>> : never;\n\nexport type Strict<U extends object> = ComputeRaw<_Strict<U>>;\n/** End Helper Types for \"Merge\" **/\n\nexport type Merge<U extends object> = ComputeRaw<_Merge<Strict<U>>>;\n\nexport type Boolean = True | False\n\nexport type True = 1\n\nexport type False = 0\n\nexport type Not<B extends Boolean> = {\n  0: 1\n  1: 0\n}[B]\n\nexport type Extends<A1 extends any, A2 extends any> = [A1] extends [never]\n  ? 0 // anything `never` is false\n  : A1 extends A2\n  ? 1\n  : 0\n\nexport type Has<U extends Union, U1 extends Union> = Not<\n  Extends<Exclude<U1, U>, U1>\n>\n\nexport type Or<B1 extends Boolean, B2 extends Boolean> = {\n  0: {\n    0: 0\n    1: 1\n  }\n  1: {\n    0: 1\n    1: 1\n  }\n}[B1][B2]\n\nexport type Keys<U extends Union> = U extends unknown ? keyof U : never\n\nexport type GetScalarType<T, O> = O extends object ? {\n  [P in keyof T]: P extends keyof O\n    ? O[P]\n    : never\n} : never\n\ntype FieldPaths<\n  T,\n  U = Omit<T, '_avg' | '_sum' | '_count' | '_min' | '_max'>\n> = IsObject<T> extends True ? U : T\n\nexport type GetHavingFields<T> = {\n  [K in keyof T]: Or<\n    Or<Extends<'OR', K>, Extends<'AND', K>>,\n    Extends<'NOT', K>\n  > extends True\n    ? // infer is only needed to not hit TS limit\n      // based on the brilliant idea of Pierre-Antoine Mills\n      // https://github.com/microsoft/TypeScript/issues/30188#issuecomment-478938437\n      T[K] extends infer TK\n      ? GetHavingFields<UnEnumerate<TK> extends object ? Merge<UnEnumerate<TK>> : never>\n      : never\n    : {} extends FieldPaths<T[K]>\n    ? never\n    : K\n}[keyof T]\n\n/**\n * Convert tuple to union\n */\ntype _TupleToUnion<T> = T extends (infer E)[] ? E : never\ntype TupleToUnion<K extends readonly any[]> = _TupleToUnion<K>\nexport type MaybeTupleToUnion<T> = T extends any[] ? TupleToUnion<T> : T\n\n/**\n * Like `Pick`, but additionally can also accept an array of keys\n */\nexport type PickEnumerable<T, K extends Enumerable<keyof T> | keyof T> = Prisma__Pick<T, MaybeTupleToUnion<K>>\n\n/**\n * Exclude all keys with underscores\n */\nexport type ExcludeUnderscoreKeys<T extends string> = T extends `_${string}` ? never : T\n\n\nexport type FieldRef<Model, FieldType> = runtime.FieldRef<Model, FieldType>\n\ntype FieldRefInputType<Model, FieldType> = Model extends never ? never : FieldRef<Model, FieldType>\n\n\nexport const ModelName = {\n  User: 'User',\n  WorkEntrie: 'WorkEntrie'\n} as const\n\nexport type ModelName = (typeof ModelName)[keyof typeof ModelName]\n\n\n\nexport interface TypeMapCb<GlobalOmitOptions = {}> extends runtime.Types.Utils.Fn<{extArgs: runtime.Types.Extensions.InternalArgs }, runtime.Types.Utils.Record<string, any>> {\n  returns: TypeMap<this['params']['extArgs'], GlobalOmitOptions>\n}\n\nexport type TypeMap<ExtArgs extends runtime.Types.Extensions.InternalArgs = runtime.Types.Extensions.DefaultArgs, GlobalOmitOptions = {}> = {\n  globalOmitOptions: {\n    omit: GlobalOmitOptions\n  }\n  meta: {\n    modelProps: \"user\" | \"workEntrie\"\n    txIsolationLevel: TransactionIsolationLevel\n  }\n  model: {\n    User: {\n      payload: Prisma.$UserPayload<ExtArgs>\n      fields: Prisma.UserFieldRefs\n      operations: {\n        findUnique: {\n          args: Prisma.UserFindUniqueArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$UserPayload> | null\n        }\n        findUniqueOrThrow: {\n          args: Prisma.UserFindUniqueOrThrowArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$UserPayload>\n        }\n        findFirst: {\n          args: Prisma.UserFindFirstArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$UserPayload> | null\n        }\n        findFirstOrThrow: {\n          args: Prisma.UserFindFirstOrThrowArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$UserPayload>\n        }\n        findMany: {\n          args: Prisma.UserFindManyArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$UserPayload>[]\n        }\n        create: {\n          args: Prisma.UserCreateArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$UserPayload>\n        }\n        createMany: {\n          args: Prisma.UserCreateManyArgs<ExtArgs>\n          result: BatchPayload\n        }\n        createManyAndReturn: {\n          args: Prisma.UserCreateManyAndReturnArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$UserPayload>[]\n        }\n        delete: {\n          args: Prisma.UserDeleteArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$UserPayload>\n        }\n        update: {\n          args: Prisma.UserUpdateArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$UserPayload>\n        }\n        deleteMany: {\n          args: Prisma.UserDeleteManyArgs<ExtArgs>\n          result: BatchPayload\n        }\n        updateMany: {\n          args: Prisma.UserUpdateManyArgs<ExtArgs>\n          result: BatchPayload\n        }\n        updateManyAndReturn: {\n          args: Prisma.UserUpdateManyAndReturnArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$UserPayload>[]\n        }\n        upsert: {\n          args: Prisma.UserUpsertArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$UserPayload>\n        }\n        aggregate: {\n          args: Prisma.UserAggregateArgs<ExtArgs>\n          result: runtime.Types.Utils.Optional<Prisma.AggregateUser>\n        }\n        groupBy: {\n          args: Prisma.UserGroupByArgs<ExtArgs>\n          result: runtime.Types.Utils.Optional<Prisma.UserGroupByOutputType>[]\n        }\n        count: {\n          args: Prisma.UserCountArgs<ExtArgs>\n          result: runtime.Types.Utils.Optional<Prisma.UserCountAggregateOutputType> | number\n        }\n      }\n    }\n    WorkEntrie: {\n      payload: Prisma.$WorkEntriePayload<ExtArgs>\n      fields: Prisma.WorkEntrieFieldRefs\n      operations: {\n        findUnique: {\n          args: Prisma.WorkEntrieFindUniqueArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$WorkEntriePayload> | null\n        }\n        findUniqueOrThrow: {\n          args: Prisma.WorkEntrieFindUniqueOrThrowArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$WorkEntriePayload>\n        }\n        findFirst: {\n          args: Prisma.WorkEntrieFindFirstArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$WorkEntriePayload> | null\n        }\n        findFirstOrThrow: {\n          args: Prisma.WorkEntrieFindFirstOrThrowArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$WorkEntriePayload>\n        }\n        findMany: {\n          args: Prisma.WorkEntrieFindManyArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$WorkEntriePayload>[]\n        }\n        create: {\n          args: Prisma.WorkEntrieCreateArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$WorkEntriePayload>\n        }\n        createMany: {\n          args: Prisma.WorkEntrieCreateManyArgs<ExtArgs>\n          result: BatchPayload\n        }\n        createManyAndReturn: {\n          args: Prisma.WorkEntrieCreateManyAndReturnArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$WorkEntriePayload>[]\n        }\n        delete: {\n          args: Prisma.WorkEntrieDeleteArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$WorkEntriePayload>\n        }\n        update: {\n          args: Prisma.WorkEntrieUpdateArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$WorkEntriePayload>\n        }\n        deleteMany: {\n          args: Prisma.WorkEntrieDeleteManyArgs<ExtArgs>\n          result: BatchPayload\n        }\n        updateMany: {\n          args: Prisma.WorkEntrieUpdateManyArgs<ExtArgs>\n          result: BatchPayload\n        }\n        updateManyAndReturn: {\n          args: Prisma.WorkEntrieUpdateManyAndReturnArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$WorkEntriePayload>[]\n        }\n        upsert: {\n          args: Prisma.WorkEntrieUpsertArgs<ExtArgs>\n          result: runtime.Types.Utils.PayloadToResult<Prisma.$WorkEntriePayload>\n        }\n        aggregate: {\n          args: Prisma.WorkEntrieAggregateArgs<ExtArgs>\n          result: runtime.Types.Utils.Optional<Prisma.AggregateWorkEntrie>\n        }\n        groupBy: {\n          args: Prisma.WorkEntrieGroupByArgs<ExtArgs>\n          result: runtime.Types.Utils.Optional<Prisma.WorkEntrieGroupByOutputType>[]\n        }\n        count: {\n          args: Prisma.WorkEntrieCountArgs<ExtArgs>\n          result: runtime.Types.Utils.Optional<Prisma.WorkEntrieCountAggregateOutputType> | number\n        }\n      }\n    }\n  }\n} & {\n  other: {\n    payload: any\n    operations: {\n      $executeRaw: {\n        args: [query: TemplateStringsArray | Sql, ...values: any[]],\n        result: any\n      }\n      $executeRawUnsafe: {\n        args: [query: string, ...values: any[]],\n        result: any\n      }\n      $queryRaw: {\n        args: [query: TemplateStringsArray | Sql, ...values: any[]],\n        result: any\n      }\n      $queryRawUnsafe: {\n        args: [query: string, ...values: any[]],\n        result: any\n      }\n    }\n  }\n}\n\n/**\n * Enums\n */\n\nexport const TransactionIsolationLevel = runtime.makeStrictEnum({\n  ReadUncommitted: 'ReadUncommitted',\n  ReadCommitted: 'ReadCommitted',\n  RepeatableRead: 'RepeatableRead',\n  Serializable: 'Serializable'\n} as const)\n\nexport type TransactionIsolationLevel = (typeof TransactionIsolationLevel)[keyof typeof TransactionIsolationLevel]\n\n\nexport const UserScalarFieldEnum = {\n  id: 'id',\n  name: 'name',\n  email: 'email',\n  password_hash: 'password_hash',\n  created_at: 'created_at'\n} as const\n\nexport type UserScalarFieldEnum = (typeof UserScalarFieldEnum)[keyof typeof UserScalarFieldEnum]\n\n\nexport const WorkEntrieScalarFieldEnum = {\n  id: 'id',\n  date: 'date',\n  duration_minutes: 'duration_minutes',\n  hourly_rate_at_time: 'hourly_rate_at_time',\n  user_id: 'user_id'\n} as const\n\nexport type WorkEntrieScalarFieldEnum = (typeof WorkEntrieScalarFieldEnum)[keyof typeof WorkEntrieScalarFieldEnum]\n\n\nexport const SortOrder = {\n  asc: 'asc',\n  desc: 'desc'\n} as const\n\nexport type SortOrder = (typeof SortOrder)[keyof typeof SortOrder]\n\n\nexport const QueryMode = {\n  default: 'default',\n  insensitive: 'insensitive'\n} as const\n\nexport type QueryMode = (typeof QueryMode)[keyof typeof QueryMode]\n\n\n\n/**\n * Field references\n */\n\n\n/**\n * Reference to a field of type 'String'\n */\nexport type StringFieldRefInput<$PrismaModel> = FieldRefInputType<$PrismaModel, 'String'>\n    \n\n\n/**\n * Reference to a field of type 'String[]'\n */\nexport type ListStringFieldRefInput<$PrismaModel> = FieldRefInputType<$PrismaModel, 'String[]'>\n    \n\n\n/**\n * Reference to a field of type 'DateTime'\n */\nexport type DateTimeFieldRefInput<$PrismaModel> = FieldRefInputType<$PrismaModel, 'DateTime'>\n    \n\n\n/**\n * Reference to a field of type 'DateTime[]'\n */\nexport type ListDateTimeFieldRefInput<$PrismaModel> = FieldRefInputType<$PrismaModel, 'DateTime[]'>\n    \n\n\n/**\n * Reference to a field of type 'Int'\n */\nexport type IntFieldRefInput<$PrismaModel> = FieldRefInputType<$PrismaModel, 'Int'>\n    \n\n\n/**\n * Reference to a field of type 'Int[]'\n */\nexport type ListIntFieldRefInput<$PrismaModel> = FieldRefInputType<$PrismaModel, 'Int[]'>\n    \n\n\n/**\n * Reference to a field of type 'Decimal'\n */\nexport type DecimalFieldRefInput<$PrismaModel> = FieldRefInputType<$PrismaModel, 'Decimal'>\n    \n\n\n/**\n * Reference to a field of type 'Decimal[]'\n */\nexport type ListDecimalFieldRefInput<$PrismaModel> = FieldRefInputType<$PrismaModel, 'Decimal[]'>\n    \n\n\n/**\n * Reference to a field of type 'Float'\n */\nexport type FloatFieldRefInput<$PrismaModel> = FieldRefInputType<$PrismaModel, 'Float'>\n    \n\n\n/**\n * Reference to a field of type 'Float[]'\n */\nexport type ListFloatFieldRefInput<$PrismaModel> = FieldRefInputType<$PrismaModel, 'Float[]'>\n    \n\n/**\n * Batch Payload for updateMany & deleteMany & createMany\n */\nexport type BatchPayload = {\n  count: number\n}\n\nexport const defineExtension = runtime.Extensions.defineExtension as unknown as runtime.Types.Extensions.ExtendsHook<\"define\", TypeMapCb, runtime.Types.Extensions.DefaultArgs>\nexport type DefaultPrismaClient = PrismaClient\nexport type ErrorFormat = 'pretty' | 'colorless' | 'minimal'\nexport type PrismaClientOptions = ({\n  /**\n   * Instance of a Driver Adapter, e.g., like one provided by `@prisma/adapter-pg`.\n   */\n  adapter: runtime.SqlDriverAdapterFactory\n  accelerateUrl?: never\n} | {\n  /**\n   * Prisma Accelerate URL allowing the client to connect through Accelerate instead of a direct database.\n   */\n  accelerateUrl: string\n  adapter?: never\n}) & {\n  /**\n   * @default \"colorless\"\n   */\n  errorFormat?: ErrorFormat\n  /**\n   * @example\n   * ```\n   * // Shorthand for `emit: 'stdout'`\n   * log: ['query', 'info', 'warn', 'error']\n   * \n   * // Emit as events only\n   * log: [\n   *   { emit: 'event', level: 'query' },\n   *   { emit: 'event', level: 'info' },\n   *   { emit: 'event', level: 'warn' }\n   *   { emit: 'event', level: 'error' }\n   * ]\n   * \n   * / Emit as events and log to stdout\n   * og: [\n   *  { emit: 'stdout', level: 'query' },\n   *  { emit: 'stdout', level: 'info' },\n   *  { emit: 'stdout', level: 'warn' }\n   *  { emit: 'stdout', level: 'error' }\n   * \n   * ```\n   * Read more in our [docs](https://pris.ly/d/logging).\n   */\n  log?: (LogLevel | LogDefinition)[]\n  /**\n   * The default values for transactionOptions\n   * maxWait ?= 2000\n   * timeout ?= 5000\n   */\n  transactionOptions?: {\n    maxWait?: number\n    timeout?: number\n    isolationLevel?: TransactionIsolationLevel\n  }\n  /**\n   * Global configuration for omitting model fields by default.\n   * \n   * @example\n   * ```\n   * const prisma = new PrismaClient({\n   *   omit: {\n   *     user: {\n   *       password: true\n   *     }\n   *   }\n   * })\n   * ```\n   */\n  omit?: GlobalOmitConfig\n  /**\n   * SQL commenter plugins that add metadata to SQL queries as comments.\n   * Comments follow the sqlcommenter format: https://google.github.io/sqlcommenter/\n   * \n   * @example\n   * ```\n   * const prisma = new PrismaClient({\n   *   adapter,\n   *   comments: [\n   *     traceContext(),\n   *     queryInsights(),\n   *   ],\n   * })\n   * ```\n   */\n  comments?: runtime.SqlCommenterPlugin[]\n}\nexport type GlobalOmitConfig = {\n  user?: Prisma.UserOmit\n  workEntrie?: Prisma.WorkEntrieOmit\n}\n\n/* Types for Logging */\nexport type LogLevel = 'info' | 'query' | 'warn' | 'error'\nexport type LogDefinition = {\n  level: LogLevel\n  emit: 'stdout' | 'event'\n}\n\nexport type CheckIsLogLevel<T> = T extends LogLevel ? T : never;\n\nexport type GetLogType<T> = CheckIsLogLevel<\n  T extends LogDefinition ? T['level'] : T\n>;\n\nexport type GetEvents<T extends any[]> = T extends Array<LogLevel | LogDefinition>\n  ? GetLogType<T[number]>\n  : never;\n\nexport type QueryEvent = {\n  timestamp: Date\n  query: string\n  params: string\n  duration: number\n  target: string\n}\n\nexport type LogEvent = {\n  timestamp: Date\n  message: string\n  target: string\n}\n/* End Types for Logging */\n\n\nexport type PrismaAction =\n  | 'findUnique'\n  | 'findUniqueOrThrow'\n  | 'findMany'\n  | 'findFirst'\n  | 'findFirstOrThrow'\n  | 'create'\n  | 'createMany'\n  | 'createManyAndReturn'\n  | 'update'\n  | 'updateMany'\n  | 'updateManyAndReturn'\n  | 'upsert'\n  | 'delete'\n  | 'deleteMany'\n  | 'executeRaw'\n  | 'queryRaw'\n  | 'aggregate'\n  | 'count'\n  | 'runCommandRaw'\n  | 'findRaw'\n  | 'groupBy'\n\n/**\n * `PrismaClient` proxy available in interactive transactions.\n */\nexport type TransactionClient = Omit<DefaultPrismaClient, runtime.ITXClientDenyList>\n\n","import type { Prisma } from \"@/generated/prisma/client.js\";\r\nimport type { UsersRepository } from \"../users-repository.js\";\r\nimport { prisma } from \"@/lib/prisma.js\";\r\n\r\nexport class PrismaUsersRepository implements UsersRepository {\r\n  async create(data: Prisma.UserCreateInput) {\r\n    const user = await prisma.user.create({\r\n      data,\r\n    })\r\n\r\n    return user\r\n  }\r\n\r\n  async findByEmail(email: string) {\r\n    const user = await prisma.user.findUnique({\r\n      where: {\r\n        email,\r\n      },\r\n    })\r\n\r\n    return user\r\n  }\r\n\r\n  async findById(id: string) {\r\n    const user = await prisma.user.findUnique({\r\n      where: {\r\n        id,\r\n      },\r\n    })\r\n    return user\r\n  }\r\n}","export class UserAlreadyExistsError extends Error {\r\n    constructor() {\r\n        super('E-mail already exists.')\r\n    }\r\n}","import type { User } from '@/generated/prisma/client.js'\r\nimport type { UsersRepository } from '@/repositories/users-repository.js'\r\nimport { UserAlreadyExistsError } from '../errors/user-already-exists-error.js'\r\n\r\nimport { hash } from 'bcryptjs'\r\n\r\ninterface RegisterServiceRequest {\r\n  name: string\r\n  email: string\r\n  password: string\r\n}\r\n\r\ninterface RegisterServiceResponse {\r\n  user: User\r\n}\r\n\r\nexport class RegisterUserService {\r\n  constructor(private usersRepository: UsersRepository) {}\r\n\r\n  async execute({\r\n    name,\r\n    email,\r\n    password,\r\n  }: RegisterServiceRequest): Promise<RegisterServiceResponse> {\r\n    const password_hash = await hash(password, 6)\r\n    const userWithSameEmail = await this.usersRepository.findByEmail(email)\r\n\r\n    if (userWithSameEmail) {\r\n      throw new UserAlreadyExistsError()\r\n    }\r\n\r\n    const user = await this.usersRepository.create({\r\n      name,\r\n      email,\r\n      password_hash,\r\n    })\r\n\r\n    return { user }\r\n  }\r\n}\r\n","import { PrismaUsersRepository } from '@/repositories/prisma/prisma-users-repository.js'\r\nimport { RegisterUserService } from '@/services/user/register.js'\r\n\r\nexport function makeRegisterUserService() {\r\n  const usersRepository = new PrismaUsersRepository()\r\n  const useCase = new RegisterUserService(usersRepository)\r\n\r\n  return useCase\r\n}\r\n","import type { Request, Response } from 'express'\r\nimport { makeRegisterUserService } from '@/services/factories/users/make-register-user-service.js'\r\n\r\nimport z from 'zod'\r\n\r\nexport async function registerUser(req: Request, res: Response) {\r\n  const registerBodySchema = z.object({\r\n    name: z.string(),\r\n    email: z.email(),\r\n    password: z.string().min(6),\r\n  })\r\n\r\n  const { name, email, password } = registerBodySchema.parse(req.body)\r\n\r\n    const registerUserService = makeRegisterUserService()\r\n\r\n    await registerUserService.execute({\r\n      name,\r\n      email,\r\n      password,\r\n    })\r\n  \r\n  return res.status(201).send()\r\n}\r\n","export class InvalidCredentialsError extends Error {\r\n    constructor() {\r\n        super('Invalid credentials.')\r\n    }\r\n}","import type { User } from '@/generated/prisma/client.js'\r\nimport type { UsersRepository } from '@/repositories/users-repository.js'\r\n\r\nimport { InvalidCredentialsError } from '../errors/invalid-credentials-error.js'\r\n\r\nimport { compare } from 'bcryptjs'\r\nimport { TokenGenerate } from '@/utils/jwt-create.js'\r\n\r\nexport interface AuthenticateServiceRequest {\r\n  email: string\r\n  password: string\r\n}\r\n\r\nexport interface AuthenticateServiceResponse {\r\n  user: User\r\n}\r\n\r\nexport class AuthenticateService {\r\n  constructor(private usersRepository: UsersRepository) {}\r\n\r\n  async execute({\r\n    email,\r\n    password,\r\n  }: AuthenticateServiceRequest): Promise<AuthenticateServiceResponse> {\r\n    const user = await this.usersRepository.findByEmail(email)\r\n\r\n    if (!user) {\r\n      throw new InvalidCredentialsError()\r\n    }\r\n\r\n    const doesPasswordMatch = await compare(password, user.password_hash)\r\n\r\n    if (!doesPasswordMatch) {\r\n      throw new InvalidCredentialsError()\r\n    }\r\n\r\n    return { user }\r\n  }\r\n}\r\n","import jwt from 'jsonwebtoken'\r\nimport { env } from '@/env/index.js'\r\n\r\ninterface UserRequest {\r\n  user_id: string\r\n  email: string\r\n}\r\n\r\ninterface TokenResponse {\r\n  token: string\r\n}\r\n\r\nexport class TokenGenerate {\r\n  constructor() {}\r\n\r\n  execute({ user_id, email }: UserRequest): TokenResponse {\r\n    const secret = env.JWT_SECRET\r\n    const token = jwt.sign(\r\n      {\r\n        email,\r\n      },\r\n      secret,\r\n      {\r\n        subject: user_id,\r\n        expiresIn: '7d',\r\n      }\r\n    )\r\n\r\n    return { token }\r\n  }\r\n}\r\n","import { PrismaUsersRepository } from '@/repositories/prisma/prisma-users-repository.js'\r\nimport { AuthenticateService } from '@/services/user/authenticate.js'\r\n\r\nexport function makeAuthenticateUserService() {\r\n  const usersRepository = new PrismaUsersRepository()\r\n  const useCase = new AuthenticateService(usersRepository)\r\n\r\n  return useCase\r\n}\r\n","import { makeAuthenticateUserService } from '@/services/factories/users/make-auth-user-service.js'\r\nimport { TokenGenerate } from '@/utils/jwt-create.js'\r\n\r\nimport type { Request, Response } from 'express'\r\nimport { z } from 'zod'\r\n\r\nexport async function authenticate(req: Request, res: Response) {\r\n    \r\n    const authBodySchema = z.object({\r\n        email: z.email(),\r\n        password: z.string().min(6)\r\n    })\r\n\r\n    const { email, password } = authBodySchema.parse(req.body)\r\n        \r\n        const authenticateUserService = makeAuthenticateUserService()\r\n\r\n        const { user } = await authenticateUserService.execute({\r\n            email,\r\n            password\r\n        })\r\n\r\n        const tokenGenerate = new TokenGenerate()\r\n\r\n        const { token } = tokenGenerate.execute({\r\n          user_id: user.id,\r\n          email: user.email,\r\n        })\r\n\r\n        return res.status(200).send({ token })\r\n}","export class ResourceNotFoundError extends Error {\r\n  constructor() {\r\n    super('Resource not found.')\r\n  }\r\n}\r\n","import type { User } from '@/generated/prisma/client.js'\r\nimport type { UsersRepository } from '@/repositories/users-repository.js'\r\n\r\nimport { ResourceNotFoundError } from '../errors/resource-not-found-error.js'\r\n\r\nexport interface GetUserProfileServiceRequest {\r\n  userId: string\r\n}\r\n\r\nexport interface GetUserProfileServiceResponse {\r\n  user: User\r\n}\r\n\r\nexport class GetUserProfileService {\r\n  constructor(private usersRepository: UsersRepository) {}\r\n\r\n  async execute({ userId }: GetUserProfileServiceRequest): Promise<GetUserProfileServiceResponse> {\r\n    const user = await this.usersRepository.findById(userId)\r\n\r\n    if (!user) {\r\n      throw new ResourceNotFoundError()\r\n    }\r\n\r\n    return { user }\r\n  }\r\n}\r\n","import { PrismaUsersRepository } from '@/repositories/prisma/prisma-users-repository.js'\r\nimport { GetUserProfileService } from '@/services/user/get-profile.js'\r\n\r\nexport function makeGetUserProfileService() {\r\n  const usersRepository = new PrismaUsersRepository()\r\n  const useCase = new GetUserProfileService(usersRepository)\r\n\r\n  return useCase\r\n}\r\n","import type { Request, Response } from 'express'\r\n\r\nimport { makeGetUserProfileService } from '@/services/factories/users/make-get-user-profile-service.js'\r\n\r\nexport async function me(req: Request, res: Response) {\r\n  const userId = req.user.user_id\r\n\r\n  const getUserProfileService = makeGetUserProfileService()\r\n  const { user } = await getUserProfileService.execute({ userId })\r\n\r\n  return res.status(200).send({\r\n    user: {\r\n      id: user.id,\r\n      name: user.name,\r\n      email: user.email,\r\n      created_at: user.created_at,\r\n    },\r\n  })\r\n}\r\n","import { env } from '@/env/index.js'\r\nimport type { NextFunction, Request, Response } from 'express'\r\nimport jwt from 'jsonwebtoken'\r\n\r\nexport function verifyJwt(req: Request, res: Response, next: NextFunction) {\r\n  const authToken = req.headers.authorization\r\n\r\n  if (!authToken) {\r\n    return res.status(401).send({ message: 'Token is missing' })\r\n  }\r\n\r\n  const token = authToken.split(' ')[1]\r\n\r\n  if (!token) {\r\n    return res.status(401).send({ message: 'Unauthorized' })\r\n  }\r\n\r\n  try {\r\n    const { sub } = jwt.verify(token, env.JWT_SECRET) as { sub: string }\r\n\r\n    req.user = {\r\n      user_id: sub,\r\n    }\r\n\r\n  } catch (err) {\r\n    return res.status(401).send({ message: 'Unauthorized' })\r\n  }\r\n\r\n  next()\r\n}\r\n","import { Router } from 'express'\r\n\r\nimport { verifyJwt } from '@/http/middlewares/verify-jwt.js'\r\n\r\nimport { createWorkEntries } from './create.js'\r\nimport { updateWorkEntries } from './update.js'\r\nimport { deleteWorkEntries } from './delete.js'\r\nimport { history } from './fetch-history.js'\r\nimport { list } from './fetch-entries.js'\r\n\r\nexport const workEntrieRoutes = Router()\r\n\r\nworkEntrieRoutes.post('/create', verifyJwt, createWorkEntries)\r\n\r\nworkEntrieRoutes.get('/history', verifyJwt, history)\r\nworkEntrieRoutes.get('/list', verifyJwt, list)\r\n\r\nworkEntrieRoutes.put('/update/:workEntryId', verifyJwt, updateWorkEntries)\r\n\r\nworkEntrieRoutes.delete('/delete/:workEntryId', verifyJwt, deleteWorkEntries)\r\n","import type { Prisma, WorkEntrie } from '@/generated/prisma/client.js'\r\nimport type { WorkEntriesRepository } from '../work-entries-repository.js'\r\nimport { prisma } from '@/lib/prisma.js'\r\n\r\nimport dayjs from 'dayjs'\r\n\r\nexport class PrismaWorkEntriesRepository implements WorkEntriesRepository {\r\n  async create(data: Prisma.WorkEntrieUncheckedCreateInput) {\r\n    const workEntry = await prisma.workEntrie.create({\r\n      data,\r\n    })\r\n\r\n    return workEntry\r\n  }\r\n\r\n  async update(id: string, data: Prisma.WorkEntrieUncheckedUpdateInput) {\r\n    const workEntry = await prisma.workEntrie.update({\r\n      where: {\r\n        id,\r\n      },\r\n\r\n      data,\r\n    })\r\n\r\n    return workEntry\r\n  }\r\n\r\n  async delete(id: string) {\r\n    await prisma.workEntrie.delete({\r\n      where: {\r\n        id,\r\n      },\r\n    })\r\n  }\r\n\r\n  async findByUserIdOnDate(userId: string, date: Date) {\r\n    const startOfTheDay = dayjs(date).startOf('date')\r\n    const endOfTheDay = dayjs(date).endOf('date')\r\n\r\n    const workEntrie = await prisma.workEntrie.findFirst({\r\n      where: {\r\n        user_id: userId,\r\n        date: {\r\n          gte: startOfTheDay.toDate(),\r\n          lte: endOfTheDay.toDate(),\r\n        },\r\n      },\r\n    })\r\n\r\n    return workEntrie\r\n  }\r\n\r\n  async findById(id: string) {\r\n    const workEntry = await prisma.workEntrie.findUnique({\r\n      where: {\r\n        id,\r\n      },\r\n    })\r\n\r\n    return workEntry\r\n  }\r\n\r\n  async findMonthlyHistory(userId: string) {\r\n    const entries = await prisma.workEntrie.findMany({\r\n      where: {\r\n        user_id: userId,\r\n      },\r\n      orderBy: {\r\n        date: 'desc',\r\n      },\r\n    })\r\n\r\n    const historyMap = entries.reduce(\r\n      (acc, entry) => {\r\n        const date = dayjs(entry.date)\r\n        const key = date.format('YYYY-MM')\r\n\r\n        if (!acc[key]) {\r\n          acc[key] = {\r\n            year: date.year(),\r\n            month: date.month() + 1,\r\n            totalMinutes: 0,\r\n            totalEarnings: 0,\r\n          }\r\n        }\r\n\r\n        acc[key].totalMinutes += entry.duration_minutes\r\n        acc[key].totalEarnings +=\r\n          (entry.duration_minutes / 60) * Number(entry.hourly_rate_at_time)\r\n\r\n        return acc\r\n      },\r\n      {} as Record<\r\n        string,\r\n        {\r\n          year: number\r\n          month: number\r\n          totalMinutes: number\r\n          totalEarnings: number\r\n        }\r\n      >\r\n    )\r\n\r\n    return Object.values(historyMap)\r\n      .map((item) => ({\r\n        ...item,\r\n        totalEarnings: Number(item.totalEarnings.toFixed(2)),\r\n      }))\r\n      .sort((a, b) => b.year - a.year || b.month - a.month)\r\n    }\r\n    \r\n  async findManyEntriesByUser(userId: string) {\r\n    const workEntries = await prisma.workEntrie.findMany({\r\n      where: {\r\n        user_id: userId,\r\n      },\r\n      orderBy: {\r\n        date: 'asc',\r\n      },\r\n    })\r\n\r\n    return workEntries\r\n  }\r\n}\r\n","export class MaxDailyOfWorkEntriesError extends Error {\r\n    constructor() {\r\n        super('Max of daily work entrie.')\r\n    }\r\n}\r\n","import type { WorkEntrie } from '@/generated/prisma/client.js'\r\nimport type { WorkEntriesRepository } from '@/repositories/work-entries-repository.js'\r\n\r\nimport { MaxDailyOfWorkEntriesError } from '../errors/max-daily-of-work-entrie-error.js'\r\n\r\ninterface WorkEntriesServiceRequest {\r\n  userId: string\r\n  date: Date\r\n  durationMinutes: number\r\n  hourlyRateAtTime: number\r\n}\r\n\r\ninterface WorkEntriesServiceResponse {\r\n  workEntrie: WorkEntrie\r\n}\r\n\r\nexport class CreateWorkEntriesService {\r\n  constructor(private workEntriesRepository: WorkEntriesRepository) {}\r\n\r\n  async execute({\r\n    userId,\r\n    date,\r\n    durationMinutes,\r\n    hourlyRateAtTime,\r\n  }: WorkEntriesServiceRequest): Promise<WorkEntriesServiceResponse> {\r\n\r\n    const workEntrieOnSameDate = await this.workEntriesRepository.findByUserIdOnDate(userId, date)\r\n\r\n    if (workEntrieOnSameDate) {\r\n      throw new MaxDailyOfWorkEntriesError()\r\n    }\r\n\r\n    const workEntrie = await this.workEntriesRepository.create({\r\n      user_id: userId,\r\n      date,\r\n      duration_minutes: durationMinutes,\r\n      hourly_rate_at_time: hourlyRateAtTime,\r\n    })\r\n\r\n    return { workEntrie }\r\n  }\r\n}\r\n","import { PrismaWorkEntriesRepository } from '@/repositories/prisma/prisma-work-entries.repository.js'\r\nimport { CreateWorkEntriesService } from '@/services/work-entries/create.js'\r\n\r\nexport function makeCreateWorkEntrieService() {\r\n  const workEntriesRepository = new PrismaWorkEntriesRepository()\r\n  const service = new CreateWorkEntriesService(workEntriesRepository)\r\n\r\n  return service\r\n}","import { makeCreateWorkEntrieService } from '@/services/factories/work-entries/make-create-work-entrie-service.js'\r\n\r\nimport type { Request, Response } from 'express'\r\n\r\nimport z from 'zod'\r\n\r\nexport async function createWorkEntries(req: Request, res: Response) {\r\n  const createWorkEntrieBodySchema = z.object({\r\n    date: z.coerce.date(),\r\n    durationMinutes: z.number(),\r\n    hourlyRateAtTime: z.number(),\r\n  })\r\n\r\n    const { date, durationMinutes, hourlyRateAtTime } = createWorkEntrieBodySchema.parse(req.body)\r\n    \r\n    const createWorkEntrieService = makeCreateWorkEntrieService()\r\n        \r\n        await createWorkEntrieService.execute({\r\n            userId: req.user.user_id,\r\n            date,\r\n            durationMinutes,\r\n            hourlyRateAtTime\r\n        })\r\n\r\n    return res.status(201).send({ message: 'Work entry created successfully'})\r\n}\r\n","import type { WorkEntrie } from '@/generated/prisma/client.js'\r\nimport type { WorkEntriesRepository } from '@/repositories/work-entries-repository.js'\r\nimport { ResourceNotFoundError } from '../errors/resource-not-found-error.js'\r\nimport { MaxDailyOfWorkEntriesError } from '../errors/max-daily-of-work-entrie-error.js'\r\n\r\ninterface UpdateWorkEntriesServiceRequest {\r\n  workEntryId: string\r\n  userId: string\r\n  date: Date\r\n  durationMinutes: number\r\n  hourlyRateAtTime: number\r\n}\r\n\r\ninterface UpdateWorkEntriesServiceResponse {\r\n  workEntrie: WorkEntrie\r\n}\r\n\r\nexport class UpdateWorkEntriesService {\r\n  constructor(private workEntriesRepository: WorkEntriesRepository) {}\r\n\r\n  async execute({\r\n    workEntryId,\r\n    userId,\r\n    date,\r\n    durationMinutes,\r\n    hourlyRateAtTime,\r\n  }: UpdateWorkEntriesServiceRequest): Promise<UpdateWorkEntriesServiceResponse> {\r\n    const workEntryExist =\r\n      await this.workEntriesRepository.findById(workEntryId)\r\n\r\n    if (!workEntryExist) {\r\n      throw new ResourceNotFoundError()\r\n    }\r\n\r\n    if (workEntryExist.user_id !== userId) {\r\n      throw new ResourceNotFoundError()\r\n    }\r\n\r\n    const workEntrieOnSameDate =\r\n      await this.workEntriesRepository.findByUserIdOnDate(userId, date)\r\n\r\n    if (workEntrieOnSameDate && workEntrieOnSameDate.id !== workEntryId) {\r\n      throw new MaxDailyOfWorkEntriesError()\r\n    }\r\n\r\n    const workEntrie = await this.workEntriesRepository.update(workEntryId, {\r\n      date,\r\n      duration_minutes: durationMinutes,\r\n      hourly_rate_at_time: hourlyRateAtTime,\r\n    })\r\n\r\n    return { workEntrie }\r\n  }\r\n}\r\n","import { PrismaWorkEntriesRepository } from '@/repositories/prisma/prisma-work-entries.repository.js'\r\nimport { UpdateWorkEntriesService } from '@/services/work-entries/update.js'\r\n\r\nexport function makeUpdateWorkEntrieService() {\r\n  const workEntriesRepository = new PrismaWorkEntriesRepository()\r\n  const service = new UpdateWorkEntriesService(workEntriesRepository)\r\n\r\n  return service\r\n}","import type { Request, Response } from 'express'\r\n\r\nimport { makeUpdateWorkEntrieService } from '@/services/factories/work-entries/make-update-work-entries-service.js'\r\n\r\nimport z from 'zod'\r\n\r\nexport async function updateWorkEntries(req: Request, res: Response) {\r\n  const updateWorkEntryBodySchema = z.object({\r\n    date: z.coerce.date(),\r\n    durationMinutes: z.number(),\r\n    hourlyRateAtTime: z.number(),\r\n  })\r\n\r\n  const updateWorkEntryParamsSchema = z.object({ workEntryId: z.string() })\r\n\r\n  const { date, durationMinutes, hourlyRateAtTime } = updateWorkEntryBodySchema.parse(req.body)\r\n  const { workEntryId } = updateWorkEntryParamsSchema.parse(req.params)\r\n\r\n  const updateWorkEntrieService = makeUpdateWorkEntrieService()\r\n\r\n  const { workEntrie } = await updateWorkEntrieService.execute({\r\n    workEntryId,\r\n    userId: req.user.user_id,\r\n    date,\r\n    durationMinutes,\r\n    hourlyRateAtTime,\r\n  })\r\n\r\n  return res.status(200).send({ workEntrie })\r\n}\r\n","import type { WorkEntriesRepository } from '@/repositories/work-entries-repository.js'\r\nimport { ResourceNotFoundError } from '../errors/resource-not-found-error.js'\r\n\r\ninterface DeleteWorkEntriesServiceRequest {\r\n  workEntryId: string\r\n  userId: string\r\n}\r\n\r\nexport class DeleteWorkEntriesService {\r\n  constructor(private workEntriesRepository: WorkEntriesRepository) {}\r\n\r\n  async execute({\r\n    workEntryId,\r\n    userId,\r\n  }: DeleteWorkEntriesServiceRequest): Promise<void> {\r\n    const workEntryExist =\r\n      await this.workEntriesRepository.findById(workEntryId)\r\n\r\n    if (!workEntryExist) {\r\n      throw new ResourceNotFoundError()\r\n    }\r\n\r\n    if (workEntryExist.user_id !== userId) {\r\n      throw new ResourceNotFoundError()\r\n    }\r\n\r\n    await this.workEntriesRepository.delete(workEntryId)\r\n  }\r\n}\r\n","import { PrismaWorkEntriesRepository } from '@/repositories/prisma/prisma-work-entries.repository.js'\r\nimport { DeleteWorkEntriesService } from '@/services/work-entries/delete.js'\r\n\r\nexport function makeDeleteWorkEntrieService() {\r\n  const workEntriesRepository = new PrismaWorkEntriesRepository()\r\n  const service = new DeleteWorkEntriesService(workEntriesRepository)\r\n\r\n  return service\r\n}","import type { Request, Response } from 'express'\r\n\r\nimport { makeDeleteWorkEntrieService } from '@/services/factories/work-entries/make-delete-work-entries-service.js'\r\n\r\nimport z from 'zod'\r\n\r\nexport async function deleteWorkEntries(req: Request, res: Response) {\r\n\r\n  const deleteWorkEntryParamsSchema = z.object({ workEntryId: z.string() })\r\n\r\n  const { workEntryId } = deleteWorkEntryParamsSchema.parse(req.params)\r\n\r\n  const deleteWorkEntrieService = makeDeleteWorkEntrieService()\r\n\r\n    await deleteWorkEntrieService.execute({\r\n    workEntryId,\r\n    userId: req.user.user_id,\r\n  })\r\n\r\n  return res.status(204).send()\r\n}\r\n","import type { MonthlyHistory, WorkEntriesRepository } from '@/repositories/work-entries-repository.js'\r\n\r\ninterface FetchUserHistoryServiceRequest {\r\n    userId: string\r\n}\r\n\r\ninterface FetchUserHistoryServiceResponse {\r\n    monthlyHistory: MonthlyHistory[]\r\n}\r\n\r\nexport class FetchUserHistoryService {\r\n    constructor(private workEntriesRepository: WorkEntriesRepository) { }\r\n\r\n    async execute({ userId }: FetchUserHistoryServiceRequest): Promise<FetchUserHistoryServiceResponse> {\r\n\r\n        const monthlyHistory = await this.workEntriesRepository.findMonthlyHistory(userId)\r\n\r\n        return { monthlyHistory }\r\n    }\r\n}","import { PrismaWorkEntriesRepository } from '@/repositories/prisma/prisma-work-entries.repository.js'\r\nimport { FetchUserHistoryService } from '@/services/work-entries/fetch-history.js'\r\n\r\nexport function makeFetchUserHistoryService() {\r\n  const workEntriesRepository = new PrismaWorkEntriesRepository()\r\n  const service = new FetchUserHistoryService(workEntriesRepository)\r\n\r\n  return service\r\n}\r\n","import { makeFetchUserHistoryService } from '@/services/factories/work-entries/make-fetch-user-history-service.js'\r\n\r\nimport type { Request, Response } from 'express'\r\n\r\nexport async function history(req: Request, res: Response) {   \r\n      const fetchUserHistoryService = makeFetchUserHistoryService()\r\n  \r\n      const { monthlyHistory } = await fetchUserHistoryService.execute({\r\n        userId: req.user.user_id,\r\n      })\r\n  \r\n      return res.status(200).send({ monthlyHistory })\r\n}\r\n","import type { WorkEntrie } from '@/generated/prisma/client.js'\r\nimport type {  WorkEntriesRepository } from '@/repositories/work-entries-repository.js'\r\n\r\ninterface FetchUserEntriesServiceRequest {\r\n    userId: string\r\n}\r\n\r\ninterface FetchUserEntriesServiceResponse {\r\n  entries: WorkEntrie[]\r\n}\r\n\r\nexport class FetchUserEntriesService {\r\n    constructor(private workEntriesRepository: WorkEntriesRepository) { }\r\n\r\n    async execute({ userId }: FetchUserEntriesServiceRequest): Promise<FetchUserEntriesServiceResponse> {\r\n\r\n        const entries = await this.workEntriesRepository.findManyEntriesByUser(userId)\r\n        \r\n        return { entries }\r\n    }\r\n}","import { PrismaWorkEntriesRepository } from '@/repositories/prisma/prisma-work-entries.repository.js'\r\nimport { FetchUserEntriesService } from '@/services/work-entries/fetch-entries.js'\r\n\r\n\r\nexport function makeFetchUserEntriesService() {\r\n  const workEntriesRepository = new PrismaWorkEntriesRepository()\r\n  const service = new FetchUserEntriesService(workEntriesRepository)\r\n\r\n  return service\r\n}\r\n","import { makeFetchUserEntriesService } from '@/services/factories/work-entries/make-fetch-user-entries-service.js'\r\n\r\nimport type { Request, Response } from 'express'\r\n\r\nexport async function list(req: Request, res: Response) {\r\n    const fetchUserEntriesService = makeFetchUserEntriesService()\r\n\r\n    const { entries } = await fetchUserEntriesService.execute({\r\n      userId: req.user.user_id,\r\n    })\r\n\r\n    return res.status(200).send({ entries })\r\n}\r\n","import { app } from './app.js'\r\nimport { env } from './env/index.js'\r\n\r\napp.listen({\r\n    hostname: '0.0.0.0',\r\n    port: env.PORT,\r\n}, () => {\r\n  console.log('üöÄ Server is running!')\r\n})\r\n"],"mappings":"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","names":["exports","module","exports","module","path","config","exports","module","exports","module","import_express","import_zod","process","runtime","Buffer","runtime","NullTypes","import_zod","z","import_bcryptjs","jwt","import_zod","import_jsonwebtoken","jwt","import_express","dayjs","import_zod","z","import_zod","z","import_zod","z","express"]}